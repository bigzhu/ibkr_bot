// ğŸ§© é€šç”¨ç»„ä»¶åº“ - ä¸šåŠ¡ç»„ä»¶æ ·å¼
// --------------------------------------------------
// ä¸“é—¨å­˜æ”¾ä¸šåŠ¡ç›¸å…³çš„é€šç”¨ç»„ä»¶æ ·å¼

@import 'quasar.variables';

// ğŸ“‹ ç­›é€‰å™¨ç»„ä»¶æ ·å¼
// --------------------------------------------------

// ç­›é€‰æ¡ä»¶å®¹å™¨æ ·å¼ - æ·»åŠ ç»„é—´åˆ†éš”çº¿
.search-controls {
  .col-12,
  .col-sm-6,
  .col-md-3,
  .col-lg-3 {
    position: relative;

    // ä¸ºç­›é€‰ç»„ä¹‹é—´æ·»åŠ åˆ†éš”çº¿ï¼ˆé™¤äº†æœ€åä¸€ä¸ªï¼‰
    &:not(:last-child)::after {
      content: '';
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      height: 60px;
      width: 1px;
      background: rgb(0 0 0 / 12%);

      .body--dark & {
        background: rgb(255 255 255 / 12%);
      }
    }
  }

  // ç§»åŠ¨ç«¯éšè—åˆ†éš”çº¿
  @media (width <= 768px) {
    .col-12,
    .col-sm-6,
    .col-md-3,
    .col-lg-3 {
      &::after {
        display: none;
      }
    }
  }
}

// order_id å¤é€‰æ¡†ç»„æ ·å¼ - ä¸å…¶ä»–ç­›é€‰å™¨ä¿æŒä¸€è‡´
.order-id-checkbox-group {
  display: flex;
  flex-direction: column;
  min-height: 40px; // ä¸å…¶ä»–ç­›é€‰å™¨ä¿æŒä¸€è‡´

  &__label {
    color: rgb(0 0 0 / 60%);
    font-size: 0.75rem;
    margin-bottom: 4px;

    .body--dark & {
      color: rgb(255 255 255 / 70%);
    }
  }

  .order-id-checkbox {
    margin-right: 0;

    :deep(.q-checkbox__label) {
      font-size: 0.875rem;
      color: rgb(0 0 0 / 87%);

      .body--dark & {
        color: rgb(255 255 255 / 87%);
      }
    }

    :deep(.q-checkbox__inner) {
      color: var(--q-primary);
    }
  }

  // ç§»åŠ¨ç«¯é€‚é…
  @media (width <= 768px) {
    &__label {
      font-size: 0.6875rem;
    }

    .order-id-checkbox {
      :deep(.q-checkbox__label) {
        font-size: 0.8125rem;
      }
    }
  }
}

// æŒ‚å•æ–¹å‘å•é€‰æŒ‰é’®ç»„æ ·å¼ - ä¸å…¶ä»–ç­›é€‰å™¨ä¿æŒä¸€è‡´
.order-side-radio-group {
  display: flex;
  flex-direction: column;
  min-height: 40px; // ä¸ q-select ä¿æŒç›¸åŒé«˜åº¦
  justify-content: center;
  position: relative;

  &__label {
    color: rgb(0 0 0 / 60%);
    font-size: 0.75rem;
    margin-bottom: 2px;

    .body--dark & {
      color: rgb(255 255 255 / 70%);
    }
  }

  .order-side-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;

    :deep(.q-radio) {
      margin-right: 0;

      .q-radio__label {
        font-size: 0.875rem;
        color: rgb(0 0 0 / 87%);

        .body--dark & {
          color: rgb(255 255 255 / 87%);
        }
      }

      .q-radio__inner {
        color: var(--q-primary);
      }
    }
  }

  .clear-button {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    min-height: 24px;
    min-width: 24px;

    :deep(.q-btn__wrapper) {
      padding: 2px;
    }
  }

  // ç§»åŠ¨ç«¯é€‚é…
  @media (width <= 768px) {
    min-height: 36px;

    &__label {
      font-size: 0.6875rem;
    }

    .order-side-options {
      gap: 6px;

      :deep(.q-radio .q-radio__label) {
        font-size: 0.8125rem;
      }
    }
  }
}

// äº¤æ˜“å¯¹å¤é€‰æ¡†ç»„æ ·å¼ - ç®€åŒ–ç‰ˆæœ¬
.symbol-checkbox-group {
  display: flex;
  flex-direction: column;
  min-height: 40px; // ä¸å…¶ä»–ç­›é€‰å™¨ä¿æŒä¸€è‡´

  &__label {
    color: rgb(0 0 0 / 60%);
    font-size: 0.75rem;
    margin-bottom: 4px;

    .body--dark & {
      color: rgb(255 255 255 / 70%);
    }
  }

  .symbol-checkbox-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;

    .symbol-checkbox-item {
      margin-right: 0;

      :deep(.q-checkbox__label) {
        font-size: 0.875rem;
        color: rgb(0 0 0 / 87%);
        white-space: nowrap;

        .body--dark & {
          color: rgb(255 255 255 / 87%);
        }
      }

      :deep(.q-checkbox__inner) {
        color: var(--q-primary);
      }

      // äº¤æ˜“å¯¹å›¾æ ‡æ ‡ç­¾æ ·å¼
      .symbol-checkbox-label {
        align-items: center;
        font-size: 0.875rem;
        color: rgb(0 0 0 / 87%);

        :deep(.q-avatar) {
          margin-right: 6px;
        }

        .body--dark & {
          color: rgb(255 255 255 / 87%);
        }
      }
    }
  }

  // ç§»åŠ¨ç«¯é€‚é…
  @media (width <= 768px) {
    &__label {
      font-size: 0.6875rem;
    }

    .symbol-checkbox-list {
      gap: 10px;

      .symbol-checkbox-item {
        :deep(.q-checkbox__label) {
          font-size: 0.8125rem;
        }
      }
    }
  }
}

// æ—¶é—´å‘¨æœŸå¤é€‰æ¡†ç»„æ ·å¼ - ä¸äº¤æ˜“å¯¹å¤é€‰æ¡†ç»„ä¿æŒä¸€è‡´
.timeframe-checkbox-group {
  display: flex;
  flex-direction: column;
  min-height: 40px; // ä¸å…¶ä»–ç­›é€‰å™¨ä¿æŒä¸€è‡´

  &__label {
    color: rgb(0 0 0 / 60%);
    font-size: 0.75rem;
    margin-bottom: 4px;

    .body--dark & {
      color: rgb(255 255 255 / 70%);
    }
  }

  .timeframe-checkbox-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;

    .timeframe-checkbox-item {
      margin-right: 0;

      :deep(.q-checkbox__label) {
        font-size: 0.875rem;
        color: rgb(0 0 0 / 87%);
        white-space: nowrap;

        .body--dark & {
          color: rgb(255 255 255 / 87%);
        }
      }

      :deep(.q-checkbox__inner) {
        color: var(--q-primary);
      }
    }
  }

  // ç§»åŠ¨ç«¯é€‚é…
  @media (width <= 768px) {
    &__label {
      font-size: 0.6875rem;
    }

    .timeframe-checkbox-list {
      gap: 6px;

      .timeframe-checkbox-item {
        :deep(.q-checkbox__label) {
          font-size: 0.8125rem;
        }
      }
    }
  }
}

// ğŸ¯ äº¤æ˜“ç›¸å…³ç»„ä»¶
// --------------------------------------------------

// ç™¾åˆ†æ¯”æŒ‰é’®é£æ ¼ - å®Œå…¨æ¨¡ä»¿è¿è¡Œæ¨¡å¼æŒ‰é’®
.percentage-button-style {
  display: inline-flex;
  align-items: center;
  background: rgb(0 0 0 / 5%);
  border: 1px solid rgb(102 126 234 / 30%);
  border-radius: 6px;
  padding: 6px 12px; // å¢åŠ paddingåŒ¹é…è¿è¡Œæ¨¡å¼æŒ‰é’®
  gap: 2px;
  min-height: 28px; // å¢åŠ é«˜åº¦åŒ¹é…è¿è¡Œæ¨¡å¼æŒ‰é’®
  min-width: 60px; // å¢åŠ æœ€å°å®½åº¦
  transition: all 0.2s ease;

  .body--dark & {
    background: rgb(255 255 255 / 5%);
    border-color: rgb(102 126 234 / 30%);
  }

  &:hover {
    background: rgb(102 126 234 / 10%);

    .body--dark & {
      background: rgb(102 126 234 / 10%);
    }
  }

  .percentage-input-field {
    background: transparent;
    border: none;
    outline: none;
    font-size: 0.75rem; // å¢åŠ å­—ä½“å¤§å°
    font-weight: 500;
    color: var(--q-color-grey-6);
    text-align: center;
    width: 35px; // å¢åŠ å®½åº¦å®¹çº³æ›´å¤§çš„æ•°å­—
    min-height: 24px; // å¢åŠ é«˜åº¦
    padding: 4px 6px; // å¢åŠ padding
    border-radius: 4px;

    .body--dark & {
      color: var(--q-color-grey-6);
    }

    &:focus {
      background: rgb(102 126 234 / 10%);
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  .percentage-unit {
    font-size: 0.75rem; // å¢åŠ å­—ä½“å¤§å°åŒ¹é…è¾“å…¥æ¡†
    font-weight: 500;
    color: var(--q-color-grey-6);
    padding: 4px 6px; // å¢åŠ padding
    line-height: 1;

    .body--dark & {
      color: var(--q-color-grey-6);
    }
  }
}

// å…¨å±€æ ·å¼ï¼šå½»åº•æ¶ˆé™¤æ‰€æœ‰number inputçš„spinner
input[type='number'] {
  appearance: textfield !important;

  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    appearance: none !important;
    margin: 0 !important;
    padding: 0 !important;
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
    width: 0 !important;
    height: 0 !important;
    position: absolute !important;
    left: -9999px !important;
  }

  &::-moz-inner-spin-button,
  &::-moz-outer-spin-button {
    appearance: none !important;
    display: none !important;
    margin: 0 !important;
    padding: 0 !important;
    opacity: 0 !important;
    visibility: hidden !important;
    width: 0 !important;
    height: 0 !important;
    position: absolute !important;
    left: -9999px !important;
  }
}

// é’ˆå¯¹percentage-modern-inputçš„ç‰¹æ®Šå¤„ç†
.percentage-modern-input input[type='number'] {
  box-sizing: border-box !important;
  padding-right: 24px !important;
  text-align: center !important;

  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    display: none !important;
    appearance: none !important;
    margin: 0 !important;
    width: 0 !important;
    height: 0 !important;
    opacity: 0 !important;
    visibility: hidden !important;
    position: absolute !important;
    left: -99999px !important;
    z-index: -999 !important;
  }
}

// æ“ä½œæŒ‰é’®ç»„
.action-buttons {
  display: flex;
  gap: 8px;
  justify-content: center;
  align-items: center;
}

// é«˜çº§äº¤æ˜“æ¨¡å¼é€‰æ‹©å™¨
.trading-mode-selector {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;

  .mode-toggle-container {
    display: flex;
    gap: 4px;
    border: 1px solid $primary-alpha-30;
    border-radius: 8px;
    padding: 2px;
    background: $white-alpha-05;

    .body--dark & {
      background: rgb(0 0 0 / 10%);
    }
  }

  .mode-btn {
    border-radius: 6px;
    padding: 6px 12px;
    font-size: 0.75rem;
    font-weight: 500;
    transition: all $transition-base $ease-out-cubic;
    border: none;
    background: transparent;
    color: var(--q-color-grey-6);
    min-width: 60px;

    &:hover:not(.mode-btn--active) {
      background: $primary-alpha-10;
      color: var(--q-primary);
    }

    &--active {
      background: var(--q-primary) !important;
      color: white !important;
      box-shadow: 0 2px 8px rgb(102 126 234 / 30%);
      transform: scale(1.02);
      position: relative;

      .q-icon {
        color: white !important;
      }

      &::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background: linear-gradient(135deg, rgb(255 255 255 / 20%) 0%, transparent 100%);
        pointer-events: none;
      }
    }

    &-arbitrage.mode-btn--active {
      background: linear-gradient(135deg, #ff6b6b, #ff8e53) !important;
      box-shadow: 0 2px 8px rgb(255 107 107 / 40%);

      &::after {
        content: 'ğŸš€';
        position: absolute;
        top: -2px;
        right: -2px;
        font-size: 10px;
        opacity: 0.8;
      }
    }

    &-hodl.mode-btn--active {
      background: linear-gradient(135deg, #00d4aa, #00b894) !important;
      box-shadow: 0 2px 8px rgb(0 212 170 / 40%);

      &::after {
        content: 'ğŸ’';
        position: absolute;
        top: -2px;
        right: -2px;
        font-size: 10px;
        opacity: 0.8;
      }
    }

    .q-icon {
      transition: all $transition-base;
    }
  }

  // ç§»åŠ¨ç«¯ä¼˜åŒ–
  @media (width <= 768px) {
    .mode-toggle-container {
      gap: 2px;
      padding: 1px;
    }

    .mode-btn {
      padding: 4px 8px;
      font-size: 0.7rem;
      min-width: 50px;

      .q-icon {
        font-size: 12px !important;
      }

      &-arbitrage.mode-btn--active::after,
      &-hodl.mode-btn--active::after {
        font-size: 8px;
        top: -1px;
        right: -1px;
      }
    }
  }
}

// ğŸªŸ å¯¹è¯æ¡†æ ·å¼
// --------------------------------------------------
.add-dialog-card,
.delete-dialog-card,
.edit-dialog-card {
  min-width: 400px;
  max-width: 500px;
  border-radius: $border-radius-lg;
  box-shadow: $shadow-xl;

  .dialog-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 12px;
    background: linear-gradient(135deg, rgb(102 126 234 / 10%) 0%, rgb(118 75 162 / 10%) 100%);
    border-radius: $border-radius-lg $border-radius-lg 0 0;
    padding: 24px;

    .dialog-icon {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .dialog-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--q-color-grey-8);
      margin: 0;

      .body--dark & {
        color: var(--q-color-grey-1);
      }
    }

    .dialog-subtitle {
      font-size: 0.875rem;
      color: var(--q-color-grey-6);
      margin: 0;

      .body--dark & {
        color: var(--q-color-grey-4);
      }
    }

    &.warning {
      .dialog-title {
        color: var(--q-warning);
      }
    }
  }

  .dialog-content {
    padding: 24px;
  }

  .dialog-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    padding: 16px 24px 24px;
  }

  // ç§»åŠ¨ç«¯ä¼˜åŒ–
  @media (width <= 768px) {
    min-width: 90vw;
    margin: 0 20px;

    .dialog-header,
    .dialog-content {
      padding: 16px;
    }

    .dialog-actions {
      padding: 12px 16px 16px;
      flex-direction: column;

      .q-btn {
        width: 100%;
      }
    }
  }
}

// åˆ é™¤ç¡®è®¤å¯¹è¯æ¡†ç‰¹æ®Šæ ·å¼
.delete-confirmation {
  padding: 24px 0;

  .warning-text {
    text-align: center;
    font-size: 1rem;
    color: var(--q-color-grey-7);
    margin-bottom: 20px;

    .body--dark & {
      color: var(--q-color-grey-3);
    }

    strong {
      color: var(--q-warning);
      font-weight: 600;
    }
  }

  .confirmation-input {
    margin-top: 16px;
  }
}

// ğŸ”¤ è¡¨å•æ ·å¼
// --------------------------------------------------
.add-form,
.edit-form,
.config-form {
  .form-section {
    margin-bottom: 24px;

    .section-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--q-color-grey-8);
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid rgb(102 126 234 / 20%);

      .body--dark & {
        color: var(--q-color-grey-2);
        border-bottom-color: rgb(102 126 234 / 30%);
      }
    }
  }

  .form-group {
    margin-bottom: 24px;

    &:last-child {
      margin-bottom: 0;
    }

    .form-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--q-color-grey-8);
      margin-bottom: 8px;

      .body--dark & {
        color: var(--q-color-grey-3);
      }
    }

    .form-hint {
      font-size: 0.75rem;
      color: var(--q-color-grey-5);
      margin-top: 4px;
    }
  }

  .form-row {
    display: flex;
    gap: 16px;
    margin-bottom: 16px;

    .form-field {
      flex: 1;
    }

    .form-field-narrow {
      flex: 0 0 120px;
    }

    // é…ç½®é¡µé¢ç½‘æ ¼å¸ƒå±€æ”¯æŒ
    &.form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;

      @media (width <= 768px) {
        grid-template-columns: 1fr;
      }
    }
  }

  .form-help {
    font-size: 0.75rem;
    color: var(--q-color-grey-6);
    margin-top: 4px;

    .body--dark & {
      color: var(--q-color-grey-4);
    }
  }

  // ç°ä»£åŒ–è¾“å…¥æ¡†æ ·å¼
  .modern-input,
  .modern-select {
    :deep(.q-field__control) {
      border-radius: $border-radius-sm;
      background: rgb(255 255 255 / 80%);

      .body--dark & {
        background: $white-alpha-05;
      }
    }

    :deep(.q-field--focused .q-field__control) {
      box-shadow: 0 0 0 2px rgb(102 126 234 / 20%);
    }
  }

  // æ“ä½œæŒ‰é’®ç»„
  .form-actions {
    display: flex;
    gap: 12px;
    margin-top: 32px;

    .action-btn {
      min-height: 44px;
      font-weight: 500;
      transition: all $transition-base $ease-out-cubic;

      &:hover {
        transform: translateY(-2px);
        box-shadow: $shadow-md;
      }

      &.full-width {
        flex: 1;
      }
    }

    @media (width <= 768px) {
      flex-direction: column;

      .action-btn {
        width: 100%;
      }
    }
  }

  // ç¯å¢ƒä¿¡æ¯æ ·å¼
  .environment-info {
    .env-badge {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      background: rgb(0 212 170 / 10%);
      border: 1px solid rgb(0 212 170 / 20%);
      border-radius: $border-radius-sm;
      margin-bottom: 8px;

      span {
        font-weight: 500;
        color: var(--q-positive);
      }
    }

    .env-description {
      font-size: 0.75rem;
      color: var(--q-color-grey-6);
      line-height: 1.4;
    }
  }

  // åˆ‡æ¢é€‰é¡¹æ ·å¼
  .toggle-option {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    background: $black-alpha-02;
    border-radius: $border-radius-sm;

    .body--dark & {
      background: $white-alpha-02;
    }

    .toggle-info {
      .toggle-label {
        font-weight: 600;
        margin-bottom: 4px;
      }

      .toggle-description {
        font-size: 0.875rem;
        color: var(--q-color-grey-6);
      }
    }
  }

  @media (width <= 768px) {
    .form-row {
      flex-direction: column;
      gap: 8px;

      .form-field-narrow {
        flex: 1;
      }
    }
  }
}

// ğŸ“Š æ•°æ®å±•ç¤ºç»„ä»¶
// --------------------------------------------------

// çŠ¶æ€æŒ‡ç¤ºå™¨å¢å¼ºç‰ˆ
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: $border-radius-sm;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;

  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;

    &.status-dot--animated {
      animation: status-pulse 2s infinite;
    }
  }

  &.status-success {
    background: rgb(0 212 170 / 10%);
    color: var(--q-positive);

    .status-dot {
      background: var(--q-positive);
    }
  }

  &.status-warning {
    background: rgb(255 212 59 / 10%);
    color: var(--q-warning);

    .status-dot {
      background: var(--q-warning);
    }
  }

  &.status-danger {
    background: rgb(244 67 54 / 10%);
    color: var(--q-negative);

    .status-dot {
      background: var(--q-negative);
    }
  }

  &.status-info {
    background: rgb(33 150 243 / 10%);
    color: var(--q-info);

    .status-dot {
      background: var(--q-info);
    }
  }

  &.status-neutral {
    background: rgb(158 158 158 / 10%);
    color: var(--q-color-grey-6);

    .status-dot {
      background: var(--q-color-grey-6);
    }
  }
}

@keyframes status-pulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.7;
    transform: scale(1.1);
  }
}

// ğŸ® æ§åˆ¶ç»„ä»¶
// --------------------------------------------------

// ç´§å‡‘å‹å¼€å…³ç»„
.compact-toggle-group {
  display: flex;
  background: rgb(0 0 0 / 5%);
  border-radius: $border-radius-sm;
  padding: 2px;
  gap: 2px;

  .body--dark & {
    background: $white-alpha-05;
  }

  .toggle-item {
    flex: 1;
    padding: 6px 12px;
    border-radius: calc(#{$border-radius-sm} - 2px);
    border: none;
    background: transparent;
    color: var(--q-color-grey-6);
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
      background: $primary-alpha-10;
    }

    &.toggle-item--active {
      background: var(--q-primary);
      color: white;
    }

    &.toggle-item--warning.toggle-item--active {
      background: var(--q-warning);
    }

    &.toggle-item--success.toggle-item--active {
      background: var(--q-positive);
    }
  }
}

// ğŸ¨ é«˜äº®å’Œè£…é¥°
// --------------------------------------------------

@mixin order-highlight($base-color, $dark-gradient-alpha: 0.05) {
  background-color: rgba($base-color, 0.28) !important;
  transition: background-color 0.2s ease;

  &:hover {
    background-color: rgba($base-color, 0.33) !important;
  }

  .body--dark & {
    background-color: rgba($base-color, 0.38) !important;
    background-image: linear-gradient(
      rgba($base-color, $dark-gradient-alpha),
      rgba($base-color, $dark-gradient-alpha)
    ) !important;

    &:hover {
      background-color: rgba($base-color, 0.44) !important;
    }
  }
}

:deep(.order-highlight-buy) {
  @include order-highlight(#2e7d32);
}

:deep(.order-highlight-sell) {
  @include order-highlight(#c62828, 0.08);
}

:deep(.order-highlight-default) {
  @include order-highlight(#607d8b);
}


// æ¸å˜æ–‡æœ¬å·¥å…·ç±»
.text-gradient-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-gradient-success {
  background: linear-gradient(135deg, #00d4aa 0%, #00b894 100%);
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-gradient-warning {
  background: linear-gradient(135deg, #ffd43b 0%, #fab005 100%);
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

// ğŸ¯ é…ç½®é¡µé¢ç»„ä»¶
// --------------------------------------------------

// é…ç½®æ€»è§ˆç½‘æ ¼
.config-overview {
  .overview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;

    .overview-item {
      display: flex;
      align-items: center;
      padding: 16px 20px;
      background: rgb(255 255 255 / 60%);
      border: 1px solid rgb(0 0 0 / 5%);
      border-radius: $border-radius-md;
      backdrop-filter: blur(10px);
      transition: all $transition-base $ease-out-cubic;
      position: relative;
      overflow: hidden;

      .body--dark & {
        background: rgb(255 255 255 / 3%);
        border-color: rgb(255 255 255 / 10%);
      }

      &:hover {
        transform: translateY(-2px);
        box-shadow: $shadow-md;
      }

      .item-icon {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgb(0 0 0 / 5%);
        border-radius: 50%;
        margin-right: 12px;

        .body--dark & {
          background: $white-alpha-05;
        }
      }

      .item-content {
        flex: 1;

        .item-label {
          font-size: 0.875rem;
          color: var(--q-color-grey-6);
          margin-bottom: 4px;

          .body--dark & {
            color: var(--q-color-grey-4);
          }
        }

        .item-status {
          font-weight: 600;
          font-size: 0.875rem;
        }
      }

      .item-indicator {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: var(--q-color-grey-4);
        opacity: 0.3;
        transition: all $transition-base;
      }

      &.item-success {
        .item-icon {
          color: var(--q-positive);
          background: rgb(0 212 170 / 10%);
        }

        .item-indicator {
          background: var(--q-positive);
          opacity: 1;
        }
      }

      &.item-warning {
        .item-icon {
          color: var(--q-warning);
          background: rgb(255 212 59 / 10%);
        }

        .item-indicator {
          background: var(--q-warning);
          opacity: 1;
        }
      }

      &.item-info {
        .item-icon {
          color: var(--q-info);
          background: rgb(116 192 252 / 10%);
        }

        .item-indicator {
          background: var(--q-info);
          opacity: 1;
        }
      }
    }
  }
}

// é…ç½®é¢æ¿å¡ç‰‡
.config-panels {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 32px;

  .config-section {
    .config-card {
      background: rgb(255 255 255 / 80%);
      backdrop-filter: blur(15px);
      border: 1px solid rgb(255 255 255 / 20%);

      .body--dark & {
        background: rgb(0 0 0 / 40%);
        border-color: rgb(255 255 255 / 10%);
      }
    }
  }
}

// é…ç½®é¡µé¢ç‰¹æ®Šå›¾æ ‡æ ·å¼ (ç»§æ‰¿é€šç”¨card-header)
.config-page {
  .card-header {
    .section-icon {
      position: relative;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      color: var(--q-primary);

      .icon-pulse {
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: $primary-alpha-20;
        animation: pulse 2s infinite;
      }
    }

    .section-info {
      .section-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin: 0 0 4px;
        color: var(--q-color-grey-8);

        .body--dark & {
          color: var(--q-color-grey-2);
        }
      }

      .section-description {
        font-size: 0.875rem;
        color: var(--q-color-grey-6);
        margin: 0;

        .body--dark & {
          color: var(--q-color-grey-4);
        }
      }
    }
  }
}

// å¯†ç å¼ºåº¦æŒ‡ç¤ºå™¨
.password-strength {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;

  .strength-label {
    font-size: 0.75rem;
    color: var(--q-color-grey-6);
    min-width: 60px;
  }

  .strength-bar {
    flex: 1;
    height: 4px;
    background: var(--q-color-grey-3);
    border-radius: 2px;
    overflow: hidden;

    .strength-indicator {
      height: 100%;
      border-radius: 2px;
      transition: all $transition-base;

      &.strength-weak {
        width: 33%;
        background: var(--q-negative);
      }

      &.strength-medium {
        width: 66%;
        background: var(--q-warning);
      }

      &.strength-strong {
        width: 100%;
        background: var(--q-positive);
      }
    }
  }

  .strength-text {
    font-size: 0.75rem;
    font-weight: 600;
    min-width: 30px;
    text-align: right;
  }
}

// çŠ¶æ€ç½‘æ ¼ç»„ä»¶
.status-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-bottom: 24px;

  .status-item {
    display: flex;
    align-items: center;
    padding: 16px;
    background: $black-alpha-02;
    border-radius: $border-radius-sm;
    transition: all $transition-fast;

    .body--dark & {
      background: $white-alpha-02;
    }

    &:hover {
      background: rgb(102 126 234 / 5%);
      transform: translateX(2px);
    }

    .status-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgb(255 255 255 / 50%);
      border-radius: 50%;
      margin-right: 12px;

      .body--dark & {
        background: $white-alpha-05;
      }
    }

    .status-info {
      flex: 1;

      .status-label {
        font-size: 0.875rem;
        color: var(--q-color-grey-6);
        margin-bottom: 4px;
      }

      .status-value {
        font-weight: 600;
      }
    }
  }
}

// èµ„æºçŠ¶æ€ç»„ä»¶
.resource-status {
  border-top: 1px solid rgb(0 0 0 / 5%);
  padding-top: 20px;

  .body--dark & {
    border-top-color: rgb(255 255 255 / 10%);
  }

  .resource-title {
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--q-color-grey-8);

    .body--dark & {
      color: var(--q-color-grey-3);
    }
  }

  .resource-metrics {
    .resource-item {
      display: flex;
      align-items: center;
      margin-bottom: 12px;

      &:last-child {
        margin-bottom: 0;
      }

      .resource-label {
        font-size: 0.875rem;
        color: var(--q-color-grey-6);
        min-width: 80px;
      }

      .resource-bar {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 12px;

        .q-linear-progress {
          flex: 1;
        }

        .resource-value {
          font-size: 0.875rem;
          font-weight: 600;
          min-width: 40px;
          text-align: right;
        }
      }
    }
  }
}

// å®‰å…¨æç¤ºç»„ä»¶
.security-notice,
.security-warning {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 16px 20px;
  border-radius: $border-radius-sm;
  margin-top: 24px;

  .notice-content,
  .warning-content {
    flex: 1;

    .notice-title,
    .warning-title {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 0.875rem;
    }

    .notice-text,
    .warning-text {
      font-size: 0.75rem;
      line-height: 1.4;
      color: var(--q-color-grey-7);
    }
  }
}

.security-notice {
  background: rgb(255 212 59 / 10%);
  border: 1px solid rgb(255 212 59 / 20%);
}

.security-warning {
  background: rgb(255 152 0 / 10%);
  border: 1px solid rgb(255 152 0 / 20%);
}

// ğŸ“± å“åº”å¼å·¥å…·ç±»
// --------------------------------------------------
@media (width <= 1024px) {
  .config-panels {
    grid-template-columns: 1fr;
    gap: 24px;
  }
}

@media (width <= 768px) {
  .add-dialog-card,
  .delete-dialog-card,
  .edit-dialog-card {
    margin: 16px;

    .dialog-header,
    .dialog-content {
      padding: 16px;
    }

    .dialog-actions {
      padding: 12px 16px 16px;
      flex-direction: column;

      .q-btn {
        width: 100%;
      }
    }
  }

  .compact-toggle-group {
    .toggle-item {
      padding: 8px 6px;
      font-size: 0.7rem;
    }
  }

  .config-overview .overview-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .status-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .card-header,
  .card-content {
    padding: 16px;
  }
}

// ğŸ·ï¸ ç°ä»£åŒ–æ ‡ç­¾é¡µæ ·å¼
// --------------------------------------------------
.modern-tabs {
  :deep(.q-tab) {
    color: var(--q-color-grey-6);
    font-weight: 500;
    border-radius: 8px 8px 0 0;
    margin-right: 4px;
    transition: all $transition-base;
  }

  :deep(.q-tab:hover) {
    background: rgb(102 126 234 / 5%);
    color: var(--q-primary);
  }

  :deep(.q-tab--active) {
    background: rgb(102 126 234 / 10%);
    color: var(--q-primary);
    font-weight: 600;
  }

  :deep(.q-tabs__arrow) {
    color: var(--q-primary);
  }

  :deep(.q-tab__indicator) {
    height: 3px;
    border-radius: 3px;
    background: linear-gradient(90deg, var(--q-primary), rgb(102 126 234 / 60%));
  }
}

// ğŸ’» ç­‰å®½å­—ä½“æ ·å¼
// --------------------------------------------------
.text-mono {
  font-family: Consolas, Monaco, 'Courier New', monospace;
  font-size: 0.85rem;
  color: inherit;
  word-break: break-all;
  max-width: 150px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// ğŸ“± å¯¹è¯æ¡†é€šç”¨æ ·å¼
// --------------------------------------------------
// é‡è¦ï¼šé‡ç½®Quasarå¼¹çª—çš„é»˜è®¤æœ€å¤§å®½åº¦é™åˆ¶
.q-dialog__inner {
  max-width: none !important;
  width: auto !important;
}

.q-dialog {
  .q-card {
    max-width: none !important;
  }
}

.match-dialog-card {
  min-width: 300px;
  width: max-content;
  max-width: none !important;
  overflow: visible !important;

  @media (width <= 600px) {
    width: 100vw;
    height: 100vh;
    max-width: none;
    max-height: none;
  }
}

// ğŸ“± ç§»åŠ¨ç«¯å¡ç‰‡æ ·å¼
.mobile-match-card {
  border-left: 3px solid var(--q-primary);
}

// æ’®åˆè¯¦æƒ…è¡¨æ ¼ç‰¹æ®Šæ ·å¼ - çœŸæ­£çš„è‡ªé€‚åº”å®½åº¦
.match-details-table {
  width: max-content;
  overflow: visible !important;

  :deep(.q-table__container) {
    overflow: visible !important;
    width: max-content !important;
    min-width: unset !important;
  }

  :deep(.q-table__table) {
    width: max-content !important;
    table-layout: auto !important;
    min-width: unset !important;
  }

  // å…³é”®ï¼šé‡ç½®Quasaré»˜è®¤çš„åˆ—å®½åº¦åˆ†é…
  :deep(thead th) {
    width: auto !important;
    min-width: auto !important;
    white-space: nowrap;
    padding: 8px 16px;
  }

  :deep(tbody td) {
    width: auto !important;
    min-width: auto !important;
    white-space: nowrap;
    padding: 8px 16px;
  }

  .text-mono {
    font-family: Consolas, Monaco, 'Courier New', monospace;
    font-size: 0.85rem;
  }
}

.mobile-match-list {
  max-height: 60vh;
  overflow-y: auto;
}

// è¡¨æ ¼å•å…ƒæ ¼æ ·å¼
.order-no-cell {
  width: 120px !important;
  max-width: 120px !important;

  .text-mono {
    max-width: 110px;
    display: block;
  }
}

.profit-cell {
  text-decoration: underline;
  transition: all 0.2s;

  &:hover {
    font-weight: 600;
    text-shadow: 0 0 1px currentcolor;
  }
}

// é”™è¯¯è¯¦æƒ…å¯¹è¯æ¡†å“åº”å¼æ ·å¼
.error-dialog-card {
  min-width: 400px;
  max-width: 90vw;
  width: max-content;

  @media (width <= 768px) {
    min-width: 95vw;
    max-width: 95vw;
    width: 95vw;
    max-height: 90vh;
    margin: 0;
  }

  @media (width <= 480px) {
    min-width: 98vw;
    max-width: 98vw;
    width: 98vw;
  }
}

// åˆ—é€‰æ‹©å™¨ä¸‹æ‹‰åˆ—è¡¨å“åº”å¼æ ·å¼
.column-selector-list {
  min-width: 250px;
  max-width: 400px;
  width: max-content;

  @media (width <= 768px) {
    min-width: 80vw;
    max-width: 90vw;
  }

  @media (width <= 480px) {
    min-width: 90vw;
    max-width: 95vw;
  }
}
